<Window x:Class="RecipeDatabase1.MainWindow"
		xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
		xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
		xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
		xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
		xmlns:local="clr-namespace:RecipeDatabase1"
		xmlns:View="clr-namespace:RecipeDatabase1.View"
		mc:Ignorable="d"
		Loaded="Window_Loaded"
		Title="Книга рецептов"
		
		Height="450" Width="800"
		MinHeight="350" MinWidth="700">
	<Window.Resources>
		<Style x:Key="ListViewFocusVisualStyle1"/>
	</Window.Resources>

	<Grid>

		<Grid.RowDefinitions>
			<RowDefinition Height="20"/>
			<RowDefinition Height="20"/>
			<RowDefinition Height="*"/>
		</Grid.RowDefinitions>
		<Menu>
			<MenuItem Header="Программа">
				<MenuItem Header="Выход" Click="CloseMenuItem_Click"/>
				<Separator/>
				<MenuItem Header="Обновить данные" Click="UpdateMenuItem_Click"/>
			</MenuItem>
			<MenuItem Header="Рецепты">
				<MenuItem Header="Добавить новый" Click="AddMenuItem_Click"/>
				<MenuItem Header="Удалить рецепт" Click="DeleteMenuItem_Click"/>
				<MenuItem Header="Изменить рецепт" Click="EditMenuItem_Click"/>
			</MenuItem>
		</Menu>

		<TabControl  Grid.Row="1" Grid.RowSpan="2" Name="TabControlPages">
			<TabItem Header="Рецепты">
				<Grid Background="#FFE5E5E5">
					<Grid.RowDefinitions>
						<RowDefinition Height="30"/>
						<RowDefinition Height="*"/>
					</Grid.RowDefinitions>
					<Grid.ColumnDefinitions>
						<ColumnDefinition Width="120"/>
						<ColumnDefinition Width="120"/>
						<ColumnDefinition Width="57*"/>
						<ColumnDefinition Width="220*"/>
					</Grid.ColumnDefinitions>

					<Button Content="Обновить" Margin="5,5,5,5" Click="UpdateButton_Click"/>
					<TextBlock Text="Запрос:" HorizontalAlignment="Center" VerticalAlignment="Center" Grid.Column="1"/>
					<TextBox Grid.Column="2" Margin="5,5,5,5" Text="Все" Grid.ColumnSpan="2"/>

					<DataGrid 
						x:Name="RecipesDataGrid"
						Margin="5,5,5,5"
						Grid.Row="1"
						Grid.ColumnSpan="4"
						ItemsSource="{Binding RecipesModelView}"
						CanUserAddRows="True"
						AutoGenerateColumns="False"
					>
						<DataGrid.DataContext>
							<View:Recipe/>
						</DataGrid.DataContext>
						<DataGrid.Columns>
							<DataGridTextColumn Header="Имя" Binding="{Binding Name}"/>
							<DataGridTextColumn Header="Приготовление" Binding="{Binding Actions}"/>
							<DataGridTextColumn Header="Ингредиенты" Binding="{Binding Ingredients}"/>
						</DataGrid.Columns>
					</DataGrid>
				</Grid>
			</TabItem>
			<TabItem Header="Поиск (не работает)">
				<Grid Background="#FFE5E5E5">

				</Grid>
			</TabItem>
			<TabItem Header="Редактировать рецепт">
				<Grid Background="#FFE5E5E5">
					<Grid.ColumnDefinitions>
						<ColumnDefinition Width="236*"/>
						<ColumnDefinition Width="101*"/>
						<ColumnDefinition Width="120"/>
					</Grid.ColumnDefinitions>
					<Grid.RowDefinitions>
						<RowDefinition Height="30"/>
						<RowDefinition Height="*"/>
					</Grid.RowDefinitions>

					<TextBlock HorizontalAlignment="Left" Text="Выберете рецепт:" VerticalAlignment="Center" Margin="288,0,0,0"/>
					<Button Content="Изменить" Grid.Column="2" Margin="5,5,5,5"/>

					<ListBox Grid.Row="1" Margin="5,5,5,5" Name="EditSlectionListBox" Grid.ColumnSpan="2">
					</ListBox>
				</Grid>
			</TabItem>
			<TabItem Header="Добавление рецепта">
				<Grid Background="#FFE5E5E5">
					<Grid.RowDefinitions>
						<RowDefinition Height="30"/>
						<RowDefinition Height="2*"/>
						<RowDefinition Height="2*"/>
						<RowDefinition Height="30"/>
					</Grid.RowDefinitions>
					<Grid.ColumnDefinitions>
						<ColumnDefinition Width="120"/>
						<ColumnDefinition Width="*"/>
					</Grid.ColumnDefinitions>



					<TextBlock Text="Название:"/>
					<TextBox x:Name="RecipeNameTextBox" Grid.Column="1" Grid.Row="0" Margin="5" />

					<TextBlock Text="Ингредиенты:" Grid.Row="1"/>
					<!--DataGrid CanUserAddRows="True" AutoGenerateColumns="True">
						<DataGrid.ItemsSource>
							<x:Array Type="{x:Type local:User}">
								<local:User Name="Alice"/>
								<local:User Name="Bob"/>
							</x:Array>
						</DataGrid.ItemsSource>
					</DataGrid-->
					<DataGrid x:Name="dataGrid" 
						Style="{x:Null}"
						Margin="5"
						IsReadOnly="False"
						CanUserAddRows="True"
						CanUserDeleteRows="True"
						EnableRowVirtualization="False"
						ItemsSource="{Binding Ingredients}"
						Grid.Column="1"
						Grid.Row="1"
						>
						<DataGrid.DataContext>
							<View:Ingredient/>
						</DataGrid.DataContext>
					</DataGrid>

					<TextBlock Text="Приготовление:" Grid.Row="2"/>
					<TextBox x:Name="ActionsTextBox" Grid.Column="1" Grid.Row="2" Margin="5" TextWrapping="Wrap" AcceptsReturn="True" HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto"/>


					<Button
						Content="Добавить"
						Grid.ColumnSpan="2"
						Grid.Row="3"
						Margin="5" Click="AddButton_Click"
					/>
				</Grid>
			</TabItem>
			<TabItem Header="Удалить рецепт">
				<Grid Background="#FFE5E5E5">
					<Grid.ColumnDefinitions>
						<ColumnDefinition Width="*"/>
						<ColumnDefinition Width="120"/>
					</Grid.ColumnDefinitions>
					<Grid.RowDefinitions>
						<RowDefinition Height="30"/>
						<RowDefinition Height="*"/>
					</Grid.RowDefinitions>

					<TextBlock HorizontalAlignment="Center" Text="Выберете рецепт:" VerticalAlignment="Center"/>
					<Button Content="Удалить" Grid.Column="1" Margin="5" />

					<ListBox Grid.Row="1" Margin="5" Name="DeleteSlectionListBox">
					</ListBox>
				</Grid>
			</TabItem>
		</TabControl>


	</Grid>
</Window>

